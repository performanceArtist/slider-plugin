!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/slider/",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)})(e)}function s(e,t,n){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unknown";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,c(t).call(this,e))).type=r,n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,a(Error)),n=t,(r=[{key:"getMessage",value:function(){return"".concat(this.message," (").concat(this.type,")")}},{key:"show",value:function(){console.log(this.getMessage())}}])&&o(n.prototype,r),s&&o(n,s),t}(),d={value:0,min:0,max:100,step:1,showBubble:!0,showSteps:!1,horizontal:!0};var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={state:{},props:{}};function r(e,t){if(void 0===d[e])return new u("".concat(e," does not exist or is not configurable."),"notProperty");var r=function(e,t){switch(e){case"value":case"max":case"min":case"step":return Number.isNaN(parseFloat(t))?new u("".concat(e," is not a number."),"notNum"):parseFloat(t);case"showBubble":case"showSteps":case"horizontal":return"boolean"!=typeof t?new u("".concat(e," is not a boolean."),"notBool"):t;default:return new u("".concat(e," is not configurable"),"notConf")}}(e,t);if(r instanceof u)return r;switch(e){case"value":return r>n.state.max?n.state.max:r<n.state.min?n.state.min:r=n.state.min+n.state.step*Math.round((r-n.state.min)/n.state.step);case"min":if(r>=n.state.max)return new u("Invalid min value: ".concat(r),"notMin");break;case"max":if(r<=n.state.min)return new u("Invalid max value: ".concat(r),"notMax");break;case"step":if(r<=0||(n.state.max-n.state.min)%r!=0||r>n.state.max-n.state.min)return new u("Invalid step value: ".concat(r),"notStep")}return r}function o(e){n.observers.forEach(function(t){try{switch(e){case"update":t.update();break;case"rerender":t.rerender();break;default:throw new Error("Invalid type argument")}}catch(e){console.error(e)}})}Object.assign(n.state,d),n.props={selector:e,errors:[]},n.observers=[];function i(e,t){var o=r(e,t);o instanceof u?(n.props.errors.push(o),o.show()):n.state[e]=o}var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e instanceof Object){var t,r,a,s=Object.keys(e),l=s.includes("value"),c=s.filter(function(e){return"value"!==e});c.forEach(function(t){i(t,e[t])}),i("value",l?e.value:n.state.value),0===c.length?o("update"):(t=function(){o("rerender")},r=200,function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=this;clearTimeout(a),a=setTimeout(function(){return t.apply(i,n)},r)})()}else console.log("Invalid object")};return a(t),{validate:r,getState:function(){return Object.assign(n.state,{})},setState:a,notify:o,props:n.props,addObserver:function(e){n.observers.push(e)}}};function p(e){this.model=e;var t=e.props.selector;if(this.root=document.querySelector(t),!this.root)throw new Error("Invalid selector (".concat(t,"): element not found."));e.addObserver(this)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement(e);return Object.keys(t).forEach(function(e){n.setAttribute(e,t[e])}),n}p.prototype.update=function(){var e=this.model.getState(),t=e.value,n=e.min,r=e.max,o=e.horizontal,i=this.helpers.sliderLength*(t-n)/(r-n);o?(this.dom.sliderHandle.style.left="".concat(i-2,"px"),this.dom.sliderDone.style.width="".concat(i+5,"px"),this.dom.bubble.style.left="".concat(i-6,"px")):(this.dom.sliderHandle.style.top="".concat(i-2,"px"),this.dom.sliderDone.style.height="".concat(i+5,"px"),this.dom.bubble.style.top="".concat(i-6,"px")),this.dom.bubble.innerHTML=t,this.dom.input.value=t},p.prototype.render=function(e){var t=this;function n(){var n=t.model.getState(),r=n.min,o=n.max,i=n.showBubble,a=n.horizontal,s=n.showSteps,l=n.step,c=a?"slider_hor":"slider_ver",u=i?"display:absolute;":"display:none;",d={container:h("div",{class:"slider"}),input:h("input",{class:"slider__input",type:"text"}),slider:h("div",{class:"slider__slider ".concat(c)}),bubble:h("div",{class:"slider__bubble",style:u}),sliderDone:h("div",{class:"slider__done"}),sliderHandle:h("span",{class:"slider__head"}),errorCont:h("div",{class:"slider__error-container"})};if(d.container.appendChild(d.input),d.container.appendChild(d.slider),d.container.appendChild(d.errorCont),t.model.props.errors.map(function(e){var t=h("div",{class:"slider__error"});return t.innerHTML=e.getMessage(),t}).forEach(function(e){d.errorCont.appendChild(e)}),t.model.props.errors=[],d.bubble.innerHTML=r,[d.bubble,d.sliderDone,d.sliderHandle].forEach(function(e){d.slider.appendChild(e)}),s)for(var f=0;f<=o-r;f+=l){var p=100*f/(o-r),v=h("label",{class:"slider__label",style:a?"left:".concat(p,"%"):"top:".concat(p,"%")});v.innerHTML=f+r,d.slider.appendChild(v)}d.slider.addEventListener("click",e.handleClick),d.sliderHandle.addEventListener("mousedown",e.handleDrag),d.input.addEventListener("blur",e.handleInput),t.root.innerHTML="",t.root.appendChild(d.container);var b=a?d.slider.offsetWidth:d.slider.offsetHeight;t.helpers={sliderLength:b},t.dom=d,t.update()}this.rerender=n,n()};var v=p;var b=function(e,t){this.model=e,this.view=t,this.handleClick=function(e){if("slider__slider slider_hor"===e.target.className||"slider__done"===e.target.className){var t=this.model.getState(),n=t.horizontal,r=t.max,o=t.min,i=e.target.getBoundingClientRect(),a=(r-o)*(n?e.clientX-i.left:e.clientY-i.top)/this.view.helpers.sliderLength;this.model.setState({value:a+o})}}.bind(this),this.handleDrag=function(e){var t=this.model,n=this.view.helpers.sliderLength,r=t.getState(),o=r.horizontal,i=r.max,a=r.min,s=e.target,l=s.offsetLeft,c=s.offsetTop,u=e.clientX,d=e.clientY;function f(e){var r=o?l+e.clientX-u:c+e.clientY-d,s=(i-a)*r/n;t.setState({value:s+a})}s.addEventListener("mousemove",f),window.addEventListener("mouseup",function(){s.removeEventListener("mousemove",f)})}.bind(this),this.handleInput=function(e){this.model.setState({value:e.target.value})}.bind(this),t.render(this)};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new f(e,t),r=new v(n);new b(n,r);return{setState:n.setState,getState:n.getState}}window.onload=function(){m("#example1"),m("#example2",{value:20,step:20,showBubble:!1,showSteps:!0}),m("#example3",{value:10,min:40,horizontal:!1});var e,t,n,r=m("#config-example");e="panel",t=r,(n=document.getElementById(e))&&n.addEventListener("change",function(e){e.preventDefault();var n={};Array.prototype.forEach.call(e.currentTarget.elements,function(e){if("submit"!==e.type){var t=e.name,r=e.value.trim();"radio"!==e.type&&"checkbox"!==e.type||(r=e.checked),""!==r&&(n[t]=r)}}),t.setState(n)})}}]);